<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Application web d'√©valuation p√©dagogique">
    <meta name="theme-color" content="#539bf5">
    <title>Outil d'√©valuation des √©tudiants</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="Logo.png" type="image/png">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="Logo.png" alt="Logo" class="app-logo">
            </div>
            <h1 id="app-title" class="animated-title" data-i18n="appTitle">Outil d'√©valuation des √©tudiants</h1>
            <div class="header-controls">
                <button id="theme-toggle" class="control-btn" title="Basculer th√®me">
                    <span id="theme-icon">üåô</span>
                </button>
                <button id="language-toggle" class="control-btn" title="Changer langue">
                    <span id="lang-text">FR</span>
                </button>
            </div>
        </header>

        <!-- Login Section -->
        <section id="login-section">
            <div class="login-container">
                <h2>Connexion</h2>
                <div class="role-selection">
                    <button id="teacher-login-btn" class="role-btn">Enseignant</button>
                    <button id="student-login-btn" class="role-btn">√âtudiant</button>
                </div>
                
                <!-- Teacher Login Form -->
                <div id="teacher-login-form" class="login-form hidden">
                    <h3>Connexion Enseignant</h3>
                    <input type="password" id="teacher-code" placeholder="Code enseignant" />
                    <button id="teacher-submit-btn">Se connecter</button>
                    <button class="back-btn">Retour</button>
                </div>
                
                <!-- Developer Code Form -->
                <div id="developer-code-form" class="login-form hidden">
                    <h3>Acc√®s D√©veloppeur</h3>
                    <input type="password" id="developer-code" placeholder="Code d√©veloppeur" />
                    <button id="developer-code-btn">Valider</button>
                    <button class="back-btn">Retour</button>
                </div>
                
                <!-- Teacher Account Creation Form -->
                <div id="teacher-account-form" class="login-form hidden">
                    <h3>Cr√©ation Compte Enseignant</h3>
                    <input type="text" id="new-teacher-name" placeholder="Nom complet" required />
                    <input type="email" id="new-teacher-email" placeholder="Email" required />
                    <input type="password" id="new-teacher-password" placeholder="Mot de passe" required />
                    <input type="password" id="confirm-teacher-password" placeholder="Confirmer mot de passe" required />
                    <button id="create-teacher-account-btn">Cr√©er Compte</button>
                    <button class="back-btn">Retour</button>
                </div>
                
                <!-- Teacher Login with Account -->
                <div id="teacher-account-login-form" class="login-form hidden">
                    <h3>Connexion Enseignant</h3>
                    <input type="email" id="teacher-account-email" placeholder="Email" required />
                    <input type="password" id="teacher-account-password" placeholder="Mot de passe" required />
                    <button id="teacher-account-login-btn">Se connecter</button>
                    <button id="forgot-password-btn" class="link-btn">Mot de passe oubli√© ?</button>
                    <button id="create-account-from-login-btn" class="link-btn">Cr√©er un nouveau compte</button>
                    <button class="back-btn">Retour</button>
                </div>
                
                <!-- Forgot Password Form -->
                <div id="forgot-password-form" class="login-form hidden">
                    <h3>R√©initialisation du mot de passe</h3>
                    <input type="email" id="reset-email" placeholder="Entrez votre email" required />
                    <button id="send-reset-link-btn">Envoyer le lien de r√©initialisation</button>
                    <button class="back-btn">Retour</button>
                </div>
                
                <!-- Reset Password Form -->
                <div id="reset-password-form" class="login-form hidden">
                    <h3>Nouveau mot de passe</h3>
                    <input type="password" id="new-password" placeholder="Nouveau mot de passe" required />
                    <input type="password" id="confirm-new-password" placeholder="Confirmer le mot de passe" required />
                    <button id="reset-password-btn">R√©initialiser le mot de passe</button>
                    <button class="back-btn">Retour</button>
                </div>
                
                <!-- Student Login Form -->
                <div id="student-login-form" class="login-form hidden">
                    <h3 id="student-form-title">Informations de l'√©tudiant</h3>
                    <input type="text" id="exam-code" placeholder="Code d'√©preuve" required />
                    <input type="text" id="student-lastname" placeholder="Nom" required />
                    <input type="text" id="student-firstname" placeholder="Pr√©nom" required />
                    <input type="text" id="student-id" placeholder="Matricule √©tudiant" required />
                    <select id="student-gender" required>
                        <option value="">S√©lectionner le genre</option>
                        <option value="M">Masculin</option>
                        <option value="F">F√©minin</option>
                    </select>
                    <button id="student-submit-btn">Acc√©der √† l'√©preuve</button>
                    <button class="back-btn">Retour</button>
                </div>
            </div>
        </section>

        <!-- Teacher Dashboard -->
        <section id="teacher-dashboard" class="hidden">
            <div class="dashboard-header">
                <h2>Interface Enseignant</h2>
                <button id="teacher-logout-btn">D√©connexion</button>
            </div>
            
            <div class="dashboard-content">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="exams">Gestion des √©preuves</button>
                    <button class="tab-btn" data-tab="results">R√©sultats</button>
                    <button class="tab-btn" data-tab="settings">Param√®tres</button>
                </div>
                
                <!-- Exams Tab -->
                <div id="exams-tab" class="tab-content active">
                    <button id="create-exam-btn" class="action-btn">Cr√©er une nouvelle √©preuve</button>
                    
                    <div id="exams-list">
                        <h3>Liste des √©preuves</h3>
                        <table id="exams-table">
                            <thead>
                                <tr>
                                    <th>Titre</th>
                                    <th>Universit√©</th>
                                    <th>Facult√©</th>
                                    <th>D√©partement</th>
                                    <th>Mati√®re</th>
                                    <th>Classe</th>
                                    <th>Code</th>
                                    <th>Dur√©e</th>
                                    <th>Tentatives max</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Exam rows will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Settings Tab -->
                <div id="settings-tab" class="tab-content hidden">
                    <h3>Informations de l'enseignant</h3>
                    <form id="teacher-info-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="teacher-lastname">Nom *</label>
                                <input type="text" id="teacher-lastname" required>
                            </div>
                            <div class="form-group">
                                <label for="teacher-firstname">Pr√©nom *</label>
                                <input type="text" id="teacher-firstname" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="teacher-id">Matricule *</label>
                            <input type="text" id="teacher-id" required>
                        </div>
                        <div class="form-group">
                            <label for="teacher-department">D√©partement</label>
                            <input type="text" id="teacher-department">
                        </div>
                        <div class="form-actions">
                            <button type="submit">Enregistrer les informations</button>
                        </div>
                    </form>
                </div>
                
                <!-- Results Tab -->
                <div id="results-tab" class="tab-content hidden">
                    <h3>R√©sultats des √©preuves</h3>
                    <select id="exam-selector">
                        <option value="">S√©lectionnez une √©preuve</option>
                        <!-- Options will be populated here -->
                    </select>
                    
                    <div id="results-container">
                        <table id="results-table">
                            <thead>
                                <tr>
                                    <th>Matricule</th>
                                    <th>Score</th>
                                    <th>Temps utilis√©</th>
                                    <th>Statut</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Results will be populated here -->
                            </tbody>
                        </table>
                        
                        <div class="export-options">
                            <h4>Exporter les r√©sultats :</h4>
                            <button id="print-results-btn" class="export-btn">üñ®Ô∏è Imprimer</button>
                            <button class="export-btn" data-format="excel">Excel (.xlsx)</button>
                            <button class="export-btn" data-format="word">Word (.docx)</button>
                            <button class="export-btn" data-format="pdf">PDF (.pdf)</button>
                        </div>
                        
                        <div class="publish-results">
                            <label>
                                <input type="checkbox" id="publish-results-toggle"> 
                                Autoriser l'affichage des r√©sultats aux √©tudiants
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Create/Edit Exam Form -->
        <section id="exam-form-section" class="hidden">
            <div class="form-container">
                <h2 id="form-title">Cr√©er une nouvelle √©preuve</h2>
                <form id="exam-form">
                    <div class="form-group">
                        <label for="exam-title">Titre de l'√©preuve *</label>
                        <input type="text" id="exam-title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="exam-description">Description</label>
                        <textarea id="exam-description"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exam-university">Universit√© *</label>
                            <input type="text" id="exam-university" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="exam-faculty">Facult√© *</label>
                            <input type="text" id="exam-faculty" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exam-department">D√©partement *</label>
                            <input type="text" id="exam-department" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="exam-subject">Mati√®re *</label>
                            <input type="text" id="exam-subject" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exam-class">Classe/Groupe *</label>
                            <input type="text" id="exam-class" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="exam-duration">Dur√©e (minutes) *</label>
                            <input type="number" id="exam-duration" min="1" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exam-attempts">Nombre de tentatives maximales *</label>
                            <input type="number" id="exam-attempts" min="1" value="1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="exam-start-date">Date de disponibilit√©</label>
                            <input type="datetime-local" id="exam-start-date">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Questions</label>
                        <div id="questions-container">
                            <!-- Questions will be added here dynamically -->
                        </div>
                        <button type="button" id="add-question-btn">Ajouter une question</button>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit">Enregistrer l'√©preuve</button>
                        <button type="button" id="cancel-exam-form">Annuler</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Student Exam Interface -->
        <section id="student-exam-section" class="hidden">
            <div class="exam-header">
                <h2 id="exam-title-display"></h2>
                <div class="exam-timer">
                    <span>Temps restant : </span>
                    <span id="timer">--:--</span>
                </div>
            </div>
            
            <div class="exam-content">
                <div id="questions-display">
                    <!-- Questions will be displayed here -->
                </div>
                
                <div class="exam-actions">
                    <button id="print-exam-btn" style="margin-right: 20px; background: #95a5a6;">üñ®Ô∏è Imprimer l'examen</button>
                    <button id="submit-exam-btn">Soumettre l'√©preuve</button>
                </div>
            </div>
        </section>

        <!-- Exam Results Display -->
        <section id="exam-results-section" class="hidden">
            <div class="results-container">
                <h2>R√©sultats de votre √©preuve</h2>
                <div id="results-display">
                    <!-- Results will be displayed here -->
                </div>
                <button id="back-to-login">Retour √† l'accueil</button>
            </div>
        </section>
    </div>

    <footer style="text-align: center; padding: 20px; font-size: 14px; color: #666;">
        D√©velopp√© par le d√©partement de g√©omatique de l'universit√© polytechnique de Mongo (UPM)
    </footer>

    <script src="app.js"></script>
</body>
</html>